{"version":3,"file":"appBundle.js","sourceRoot":"","sources":["../../scripts/app.ts","../../scripts/lessons.modules.ts","../../scripts/shared.modules.ts","../../scripts/appcfg/app.config.ts","../../scripts/lessons/controllers.ts","../../scripts/lessons/models.ts","../../scripts/lessons/services.ts","../../scripts/shared/models.ts","../../scripts/shared/service.ts"],"names":["app","app.AppConfig","app.AppConfig.constructor","app.lessons","app.lessons.LessonController","app.lessons.LessonController.constructor","app.lessons.LessonContentRequest","app.lessons.LessonContentRequest.constructor","app.lessons.LessonContentRespond","app.lessons.LessonContentRespond.constructor","app.lessons.LessonService","app.lessons.LessonService.constructor","app.lessons.LessonService.GetContent","app.shared","app.shared.ClientUserProfile","app.shared.ClientUserProfile.constructor","app.shared.ClientUserProfileService","app.shared.ClientUserProfileService.constructor","app.shared.ClientUserProfileService.GetClientUserProfile"],"mappings":"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","sourcesContent":["angular.module('app', ['ui.router', 'app.shared', 'app.lessons'])\r\n    .config(['$stateProvider', '$urlRouterProvider', function ($stateProvider: angular.ui.IStateProvider, $urlRouterProvider: angular.ui.IUrlRouterProvider) {\r\n        $stateProvider\r\n\r\n            .state('app', {\r\n                url: '/app',\r\n                templateUrl: 'tmpl/layout.html'\r\n            })\r\n\r\n            .state('app.main', {\r\n                url: '/main',\r\n                views: {\r\n                    'mainContent': {\r\n                        templateUrl: 'tmpl/lesson_layout.html'\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.main.lesson', {\r\n                url: '/lesson/:lessonId/:classRoomId',\r\n                views: {\r\n                    'lessonContent': {\r\n                        templateUrl: 'tmpl/lesson_student.html',\r\n                        controller: 'app.lessons.LessonController as cx',\r\n                        resolve: {\r\n                            'content': ['$stateParams', 'app.lessons.LessonService',\r\n                                (params, svc) => { svc.GetContent(params.lessonId, params.classRoomId) }]\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.main.details', {\r\n                url: '/details',\r\n                views: {\r\n                    'lessonContent': {\r\n                        templateUrl: 'tmpl/lesson_teacher.html'\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.course', {\r\n                url: '/course/:courseId',\r\n                views: {\r\n                    'mainContent': {\r\n                        templateUrl: 'tmpl/course_layout.html'\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.course.nitification', {\r\n                url: '/nitification',\r\n                views: {\r\n                    'courseContent': {\r\n                        templateUrl: 'tmpl/notification.html'\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.course.journal', {\r\n                url: '/journal/:userid',\r\n                views: {\r\n                    'courseContent': {\r\n                        templateUrl: 'tmpl/journal.html'\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.course.coursemap', {\r\n                url: '/coursemap',\r\n                views: {\r\n                    'courseContent': {\r\n                        templateUrl: 'tmpl/coursemap.html'\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.course.friendlist', {\r\n                url: '/friendlist',\r\n                views: {\r\n                    'courseContent': {\r\n                        templateUrl: 'tmpl/friendlist.html'\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.course.studentlist', {\r\n                url: '/studentlist',\r\n                views: {\r\n                    'courseContent': {\r\n                        templateUrl: 'tmpl/studentlist.html'\r\n                    }\r\n                }\r\n            })\r\n\r\n            .state('app.course.config', {\r\n                url: '/setting',\r\n                views: {\r\n                    'courseContent': {\r\n                        templateUrl: 'tmpl/setting.html'\r\n                    }\r\n                }\r\n            })\r\n            ;\r\n        $urlRouterProvider.otherwise('/app/main/lesson/Lesson01/ClassRoom01');\r\n    }]);","((): void => {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.lessons',\r\n        [\r\n            \"ngResource\",\r\n            'app.shared'\r\n        ]);\r\n})();","((): void => {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.shared',\r\n        [\r\n            \"ngResource\"\r\n        ]);\r\n})();","module app {\r\n    'use strict';\r\n    \r\n    export interface IAppConfig {\r\n        LessonUrl: string;    \r\n    }\r\n    \r\n    export class AppConfig implements IAppConfig {\r\n        \r\n        public LessonUrl: string;\r\n        \r\n        static $inject = ['defaultUrl'];\r\n        constructor(defaultUrl: string) {\r\n            var apiUrl = defaultUrl + '/api';\r\n            \r\n            this.LessonUrl = apiUrl + '/lesson/:id/:classRoomId/:userId';\r\n        }\r\n    }\r\n    \r\n    // HACK: Change the host Url\r\n    angular\r\n        .module('app')\r\n        .constant('defaultUrl', 'http://localhost:4147') \r\n        .service('appConfig', AppConfig);\r\n}","module app.lessons {\r\n    'use strict';\r\n\r\n    class LessonController {\r\n\r\n        public myName: string = \"My name is Au\";\r\n        static $inject = ['$scope', 'content'];\r\n        constructor(private $scope, public content) {\r\n            //console.log(content.TotalLikes);\r\n        }\r\n        \r\n    }\r\n\r\n    angular\r\n        .module('app.lessons')\r\n        .controller('app.lessons.LessonController', LessonController);\r\n}","module app.lessons {\r\n    'use strict';\r\n    \r\n    export class LessonContentRequest {\r\n        \r\n        constructor(\r\n            public id: string,\r\n            public classRoomId: string, \r\n            public userId: string){\r\n        }\r\n        \r\n    }\r\n    \r\n    export class LessonContentRespond{\r\n        \r\n    }\r\n}","module app.lessons {\r\n    'use strict';\r\n    \r\n    interface ILessonContentResourceClass<T> extends ng.resource.IResourceClass<ng.resource.IResource<T>> {\r\n        GetContent(data: T): T;\r\n        //GetComments(data: T): T;\r\n        //GetDiscussion(data: T): T;\r\n    }\r\n    export class LessonService {\r\n                \r\n        private svc: ILessonContentResourceClass<any>;\r\n        \r\n        static $inject = ['appConfig', '$resource', 'app.shared.ClientUserProfileService'];\r\n        constructor(appConfig: IAppConfig, private $resource: angular.resource.IResourceService, private userprofileSvc: app.shared.ClientUserProfileService) {\r\n            this.svc = <ILessonContentResourceClass<any>>$resource(appConfig.LessonUrl, { 'id': '@id', 'classRoomId': '@classRoomId', 'userId': '@userId' }, {\r\n                GetContent: { method: 'GET' }\r\n            });\r\n        }\r\n\r\n        public GetContent(id: string, classRoomId: string): ng.IPromise<any> {\r\n            var userId = this.userprofileSvc.GetClientUserProfile().UserProfileId;\r\n            return this.svc.GetContent(new LessonContentRequest(id, classRoomId, userId)).$promise;\r\n        }\r\n        \r\n    }\r\n    \r\n    angular\r\n        .module('app.lessons')\r\n        .service('app.lessons.LessonService', LessonService);\r\n}","module app.shared {\r\n    'use strict';\r\n\r\n    export class ClientUserProfile {\r\n        public UserProfileId: string;\r\n    }\r\n}","module app.shared {\r\n    'use strict';\r\n\r\n    export class ClientUserProfileService {\r\n        private clientUserProfile: ClientUserProfile;\r\n\r\n        constructor() {\r\n            // HACK: User profile information\r\n            this.clientUserProfile = new ClientUserProfile();\r\n            this.clientUserProfile.UserProfileId = 'sakul@mindsage.com';\r\n        }\r\n\r\n        public GetClientUserProfile(): ClientUserProfile {\r\n            return this.clientUserProfile;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('app.shared')\r\n        .service('app.shared.ClientUserProfileService', ClientUserProfileService);\r\n}"]}