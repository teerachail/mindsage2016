<div class="large-8 push-4 large-offset-1 columns" ng-init="mcx.ChangeVideo(cx.content.PrimaryContentURL)">

    <div class="row">
        <div class="large-6 columns">
            <h1 class="lesson-header">SEMESTER {{ cx.content.SemesterName }}</h1>
        </div>
        <div ng-show="cx.content.IsTeacher" class="large-6 columns view-select">
            <a ng-class="{ 'active': cx.teacherView }" ng-click="cx.selectTeacherView()">TEACHER VIEW</a>
            <span>|</span>
            <a ng-class="{ 'active': !cx.teacherView }" ng-click="cx.selectStdView()">STUDENT VIEW</a>
        </div>
    </div>

    <div ng-show="{{ cx.content.CourseMessage!=null }}" class="alert callout" data-closable>
        <div class="row">
            <div class="large-1 small-1 columns">
                <i class="fi-alert size-36"></i>
            </div>
            <div class="large-11 small-11 columns">
                <p>{{ cx.content.CourseMessage }}</p>
            </div>
        </div>
        <button class="close-button" aria-label="Dismiss alert" type="button" data-close>
            <span aria-hidden="true" ng-click="cx.ReadNote()">&times;</span>
        </button>
    </div>

    <div class="lesson-bg accordion have-like">
        <div class="row" data-accordion data-allow-all-closed="true">
            <div class="title">
                <h2>Week {{ cx.content.Order }}</h2>
            </div>

            <div ng-show="cx.teacherView" class="detail control" data-accordion-item>
                <h3>{{ cx.content.Title }}</h3>
                <p class="week-info"></p>
                <p>{{ cx.content.ShortTeacherLessonPlan }}</p>
                <a>
                    <p> > More Details</p>
                </a>
                <div class="undisplay" data-tab-content>
                    <div>
                        <p>{{ cx.content.FullTeacherLessonPlan }}</p>
                    </div>
                </div>
            </div>

            <div ng-show="!cx.teacherView" class="detail control" data-accordion-item>
                <h3>{{ cx.content.Title }}</h3>
                <p class="week-info"></p>
                <p>{{ cx.content.ShortDescription }}</p>
                <a>
                    <p> > More Details</p>
                </a>
                <div class="undisplay" data-tab-content>
                    <div>
                        <p>{{ cx.content.FullDescription }}</p>
                    </div>
                    <div>
                        <h4 class="extra-header">Extra learning</h4>
                        <ul>
                            <li>
                                <p>Primary</p>
                                <div ng-click="mcx.ChangeVideo(cx.content.PrimaryContentURL)">{{ cx.content.PrimaryContentURL }}</div>
                            </li>
                        </ul>
                        <ul ng-repeat="item in cx.content.ExtraContentUrls">
                            <li class="extra">
                                <p>Extra {{ $index + 1 }}</p>
                                <div ng-click="mcx.ChangeVideo(item)">{{ item }}</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div>
        <p>
            <span class="comment-button"><a><i class="fi-heart size-36" ng-click="cx.LikeLesson()"></i></a></span>
        </p>
    </div>

    <div class="comment" ng-show="!cx.teacherView">
        <div class="row">
            <div class="large-offset-2 large-9 columns">
                <h4>{{ cx.currentUser.FullName }}</h4>
            </div>
            <div class="large-2 columns user-img"><img class="thumbnail" src="{{ cx.currentUser.ImageUrl }}"></div>
            <div class="large-10 columns">
                <textarea ng-model="message" rows="3"></textarea>

                <div class="float-right">
                    <button ng-click="cx.CreateNewComment(message)" class="button">Post</button>
                </div>
            </div>
        </div>
    </div>

    <div class="comment" ng-show="!cx.teacherView">
        <div class="row" ng-repeat="item in cx.comment.Comments" data-accordion data-allow-all-closed="true" on-finish-render>
            <div class="large-offset-2 large-9 columns">
                <h4>{{ item.CreatorDisplayName }}<span class="comment-time"></span></h4>
            </div>
            <div class="large-2 columns"><img class="thumbnail"  style="width: 100px; height: 100px;" src="{{ item.CreatorImageUrl }}"></div>
            <div class="large-10 columns" data-accordion-item>
                <p ng-show="!isclose">
                    {{ item.Description }}
                    <span class="comment-button" ng-show="cx.currentUser.UserProfileId == item.CreatedByUserProfileId" ng-click="isclose = cx.EditOpen(item.Description,isclose)"><a> Edit</a></span>
                    <span class="comment-button like" ng-click="cx.LikeComment(item.id)"><a><i class="fi-heart size-24"></i></a></span>
                    <span class="comment-button" ng-click="cx.DeleteComment(item.id)" ng-show="cx.currentUser.UserProfileId == item.CreatedByUserProfileId"><a><i class="fi-trash size-24"></i></a></span>
                </p>
                <div ng-show="isclose">
                    <textarea ng-model="cx.message"></textarea>
                    <button ng-click="isclose = cx.SaveEdit($index, isclose)" class="button">Save</button>
                    <button ng-click="isclose = cx.CancelEdit(isclose)" class="button">Cancel</button>
                </div>
                <a ng-click="discusClose = cx.showDiscussion(item)">
                    <p ng-show="!discusClose">show discussion ({{ item.TotalDiscussions }})</p>
                    <p ng-show="discusClose">hide discussion ({{ item.TotalDiscussions }})</p>
                </a>
                <div class="undisplay" data-tab-content>

                    <div class="discussion">
                        <div class="row">
                            <div class="large-offset-2 large-9 columns">
                                <h4>{{ cx.currentUser.FullName }}</h4>
                            </div>

                            <div class="large-2 columns user-img"><img class="thumbnail"  style="width: 100px; height: 100px;" src="{{ cx.currentUser.ImageUrl }}"></div>
                            <div class="large-10 columns">
                                <textarea ng-model="discussionMsg" rows="3"></textarea>

                                <div class="float-right">
                                    <button ng-click="cx.CreateNewDiscussion(item.id, discussionMsg)" class="button">Post</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="discussion">
                        <div ng-repeat="discussion in cx.discussions | filter: { CommentId: item.id }" class="row">
                            <div class="large-offset-2 large-9 columns">
                                <h4>{{ discussion.CreatorDisplayName }}<span class="comment-time"></span></h4>
                            </div>
                            <div class="large-2 columns"><img class="thumbnail"  style="width: 100px; height: 100px;" src="{{ discussion.CreatorImageUrl }}"></div>
                            <div class="large-10 columns">
                                <p ng-show="!discussion_isclose">
                                    {{ $index }} {{ discussion.Description }}
                                    <span class="comment-button" ng-show="cx.currentUser.UserProfileId == discussion.CreatedByUserProfileId" ng-click="discussion_isclose = cx.EditOpen(discussion.Description,discussion_isclose)"><a> Edit</a></span>
                                    <span class="comment-button like" ng-click="cx.LikeComment(item.id)"><a><i class="fi-heart size-24"></i></a></span>
                                    <span class="comment-button" ng-show="cx.currentUser.UserProfileId == item.CreatedByUserProfileId || cx.currentUser.UserProfileId == discussion.CreatedByUserProfileId"
                                          ng-click="cx.DeleteComment(item.id)"><a><i class="fi-trash size-24"></i></a></span>
                                </p>
                                <div ng-show="discussion_isclose">
                                    <textarea ng-model="cx.message"></textarea>
                                    <button ng-click="discussion_isclose = cx.SaveEditDiscus(item.id, $index, discussion_isclose)" class="button">Save</button>
                                    <button ng-click="discussion_isclose = cx.CancelEdit(discussion_isclose)" class="button">Cancel</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--<div class="row" data-accordion data-allow-all-closed="true">
            <div class="large-offset-2 large-9 columns">
                <h4><a href="#">Jim Gordon</a><span class="comment-time"> week 1</span></h4>
            </div>
            <div class="large-2 columns"><img class="thumbnail" src="http://placehold.it/100x100"></div>
            <div class="large-10 columns" data-accordion-item>
                <p>But when you're done reading it, click the close button in the corner to dismiss this alert. I'm
                    using the default <code>data-closable</code> parameters, and simply fade out.
                    <span class="comment-button like"><a><i class="fi-heart size-24"></i></a></span>
                </p>
                <a>hide discussion (5)</a>
                <div class="undisplay" data-tab-content>
                    <div class="discussion">
                        <div class="row">
                            <div class="large-offset-2 large-9 columns">
                                <h4><a href="#">Tim Turnner</a></h4>
                            </div>

                            <div class="large-2 columns user-img"><img class="thumbnail" src="http://placehold.it/100x100"></div>
                            <div class="large-10 columns">
                                <textarea rows="3"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="discussion">
                        <div class="row">
                            <div class="large-offset-2 large-9 columns">
                                <h4><a href="#">Jim Gordon</a><span class="comment-time"> week 2</span></h4>
                            </div>
                            <div class="large-2 columns"><img class="thumbnail" src="http://placehold.it/100x100"></div>
                            <div class="large-10 columns">
                                <p>
                                    But when you're done reading it, click the close button in the corner to dismiss this alert. I'm
                                    using the default <code>data-closable</code> parameters, and simply fade out.
                                    <span class="comment-button"><a><i class="fi-heart size-24"></i></a></span>
                                    <span class="comment-button"><a><i class="fi-trash size-24"></i></a></span>
                                </p>
                            </div>
                        </div>

                        <div class="row">
                            <div class="large-offset-2 large-9 columns">
                                <h4><a href="#">Tim Turnner</a><span class="comment-time"> week 2</span></h4>
                            </div>
                            <div class="large-2 columns"><img class="thumbnail" src="http://placehold.it/100x100"></div>
                            <div class="large-10 columns">
                                <p>
                                    But when you're done reading it, click the close button in the corner to dismiss this alert. I'm
                                    using the default <code>data-closable</code> parameters, and simply fade out.
                                    <span class="comment-button"><a> Edit</a></span>
                                    <span class="comment-button like"><a><i class="fi-heart size-24"></i></a></span>
                                    <span class="comment-button"><a><i class="fi-trash size-24"></i></a></span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>-->
    </div>
</div>